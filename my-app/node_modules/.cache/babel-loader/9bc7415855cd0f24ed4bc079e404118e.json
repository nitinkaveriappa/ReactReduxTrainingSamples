{"ast":null,"code":"import _slicedToArray from \"D:\\\\GitHub\\\\ReactReduxTrainingSamples\\\\my-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"D:\\\\GitHub\\\\ReactReduxTrainingSamples\\\\my-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\GitHub\\\\ReactReduxTrainingSamples\\\\my-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\GitHub\\\\ReactReduxTrainingSamples\\\\my-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\GitHub\\\\ReactReduxTrainingSamples\\\\my-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\GitHub\\\\ReactReduxTrainingSamples\\\\my-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\GitHub\\\\ReactReduxTrainingSamples\\\\my-app\\\\src\\\\index.js\";\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Octicon, { Sync } from '@githubprimer/octicons-react';\n\nfunction Square(props) {\n  return React.createElement(\"button\", {\n    className: \"square\",\n    onClick: props.onClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 8\n    },\n    __self: this\n  }, props.value);\n}\n\nvar Board =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Board, _Component);\n\n  function Board() {\n    _classCallCheck(this, Board);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Board).apply(this, arguments));\n  }\n\n  _createClass(Board, [{\n    key: \"renderSquare\",\n    value: function renderSquare(i) {\n      var _this = this;\n\n      return React.createElement(Square, {\n        value: this.props.squares[i],\n        onClick: function onClick() {\n          return _this.props.onClick(i);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 17\n        },\n        __self: this\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"board-row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27\n        },\n        __self: this\n      }, this.renderSquare(0), this.renderSquare(1), this.renderSquare(2)), React.createElement(\"div\", {\n        className: \"board-row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      }, this.renderSquare(3), this.renderSquare(4), this.renderSquare(5)), React.createElement(\"div\", {\n        className: \"board-row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, this.renderSquare(6), this.renderSquare(7), this.renderSquare(8)));\n    }\n  }]);\n\n  return Board;\n}(Component);\n\nvar Game =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Game, _React$Component);\n\n  function Game(props) {\n    var _this2;\n\n    _classCallCheck(this, Game);\n\n    _this2 = _possibleConstructorReturn(this, _getPrototypeOf(Game).call(this, props));\n    _this2.state = {\n      history: [{\n        squares: Array(9).fill(null),\n        location: {\n          row: -1,\n          col: -1\n        }\n      }],\n      stepNumber: 0,\n      xIsNext: true\n    };\n    return _this2;\n  }\n\n  _createClass(Game, [{\n    key: \"handleClick\",\n    value: function handleClick(i) {\n      var history = this.state.history.slice(0, this.state.stepNumber + 1);\n      var current = history[history.length - 1];\n      var squares = current.squares.slice();\n\n      if (calculateWinner(squares) || calculateDraw(squares) || squares[i]) {\n        return;\n      }\n\n      squares[i] = this.state.xIsNext ? 'X' : 'O';\n\n      var _findRowCol = findRowCol(i),\n          _findRowCol2 = _slicedToArray(_findRowCol, 2),\n          row = _findRowCol2[0],\n          col = _findRowCol2[1];\n\n      this.setState({\n        history: history.concat([{\n          squares: squares,\n          location: {\n            row: row,\n            col: col\n          }\n        }]),\n        stepNumber: history.length,\n        xIsNext: !this.state.xIsNext,\n        toggle: true\n      });\n      console.log(this.state);\n    }\n  }, {\n    key: \"jumpTo\",\n    value: function jumpTo(step) {\n      this.setState({\n        stepNumber: step,\n        xIsNext: step % 2 === 0\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var history = this.state.history;\n      var current = history[this.state.stepNumber];\n      var winner = calculateWinner(current.squares);\n      var draw = calculateDraw(current.squares);\n      var moves = history.map(function (step, move) {\n        var desc = move ? 'Go to move #' + move : 'Go to game start';\n        return React.createElement(\"li\", {\n          key: move,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          onClick: function onClick() {\n            return _this3.jumpTo(move);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107\n          },\n          __self: this\n        }, desc, \"(\", step.location.row, \",\", step.location.col, \")\"));\n      });\n      var togglemoves = this.state.toggle ? moves : moves.reverse();\n      var status;\n\n      if (winner) {\n        status = 'Winner: ' + winner;\n      } else if (draw) {\n        status = 'Draw';\n      } else {\n        status = 'Next player: ' + (this.state.xIsNext ? 'X' : 'O');\n      }\n\n      return React.createElement(\"div\", {\n        className: \"game\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"game-board\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(Board, {\n        squares: current.squares,\n        onClick: function onClick(i) {\n          return _this3.handleClick(i);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"game-info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, status), \"Toggle History:\", React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        onClick: function onClick() {\n          return _this3.setState({\n            toggle: !_this3.state.toggle\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(Octicon, {\n        icon: Sync,\n        size: \"small\",\n        ariaLabel: \"GitHub\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }), ' ', \"Ascending/Decending\")), \"History:\", React.createElement(\"ol\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, togglemoves)));\n    }\n  }]);\n\n  return Game;\n}(React.Component); // ========================================\n\n\nReactDOM.render(React.createElement(Game, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 150\n  },\n  __self: this\n}), document.getElementById('root'));\n\nfunction calculateWinner(squares) {\n  var lines = [[0, 1, 2], [3, 4, 5], [6, 7, 8], [0, 3, 6], [1, 4, 7], [2, 5, 8], [0, 4, 8], [2, 4, 6]];\n\n  for (var i = 0; i < lines.length; i++) {\n    var _lines$i = _slicedToArray(lines[i], 3),\n        a = _lines$i[0],\n        b = _lines$i[1],\n        c = _lines$i[2];\n\n    if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {\n      return {\n        winner: squares[a],\n        highlight: lines[i]\n      };\n    }\n  }\n\n  return null;\n}\n\nfunction calculateDraw(squares) {\n  for (var i = 0; i < squares.length; i++) {\n    if (squares[i] == null) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction findRowCol(index) {\n  var rowcol = [[1, 1], [1, 2], [1, 3], [2, 1], [2, 2], [2, 3], [3, 1], [3, 2], [3, 3]];\n\n  if (index >= 0 && index <= 8) {\n    return rowcol[index];\n  } else {\n    return;\n  }\n}","map":{"version":3,"sources":["D:\\GitHub\\ReactReduxTrainingSamples\\my-app\\src\\index.js"],"names":["React","Component","ReactDOM","Octicon","Sync","Square","props","onClick","value","Board","i","squares","renderSquare","Game","state","history","Array","fill","location","row","col","stepNumber","xIsNext","slice","current","length","calculateWinner","calculateDraw","findRowCol","setState","concat","toggle","console","log","step","winner","draw","moves","map","move","desc","jumpTo","togglemoves","reverse","status","handleClick","render","document","getElementById","lines","a","b","c","highlight","index","rowcol"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport Octicon, { Sync } from '@githubprimer/octicons-react';\r\n\r\nfunction Square(props) {\r\n  return (\r\n    <button className=\"square\" onClick={props.onClick}>\r\n      {props.value}\r\n    </button>\r\n  );\r\n}\r\n\r\nclass Board extends Component {\r\n  renderSquare(i) {\r\n    return (\r\n      <Square\r\n        value={this.props.squares[i]}\r\n        onClick={() => this.props.onClick(i)}\r\n      />\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className=\"board-row\">\r\n          {this.renderSquare(0)}\r\n          {this.renderSquare(1)}\r\n          {this.renderSquare(2)}\r\n        </div>\r\n        <div className=\"board-row\">\r\n          {this.renderSquare(3)}\r\n          {this.renderSquare(4)}\r\n          {this.renderSquare(5)}\r\n        </div>\r\n        <div className=\"board-row\">\r\n          {this.renderSquare(6)}\r\n          {this.renderSquare(7)}\r\n          {this.renderSquare(8)}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass Game extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      history: [\r\n        {\r\n          squares: Array(9).fill(null),\r\n          location: {\r\n            row: -1,\r\n            col: -1\r\n          }\r\n        }\r\n      ],\r\n      stepNumber: 0,\r\n      xIsNext: true\r\n    };\r\n  }\r\n\r\n  handleClick(i) {\r\n    const history = this.state.history.slice(0, this.state.stepNumber + 1);\r\n    const current = history[history.length - 1];\r\n    const squares = current.squares.slice();\r\n    if (calculateWinner(squares) || calculateDraw(squares) || squares[i]) {\r\n      return;\r\n    }\r\n    squares[i] = this.state.xIsNext ? 'X' : 'O';\r\n    const [row, col] = findRowCol(i);\r\n    this.setState({\r\n      history: history.concat([\r\n        {\r\n          squares: squares,\r\n          location: {\r\n            row: row,\r\n            col: col\r\n          }\r\n        }\r\n      ]),\r\n      stepNumber: history.length,\r\n      xIsNext: !this.state.xIsNext,\r\n      toggle: true\r\n    });\r\n    console.log(this.state);\r\n  }\r\n\r\n  jumpTo(step) {\r\n    this.setState({\r\n      stepNumber: step,\r\n      xIsNext: step % 2 === 0\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const history = this.state.history;\r\n    const current = history[this.state.stepNumber];\r\n    const winner = calculateWinner(current.squares);\r\n    const draw = calculateDraw(current.squares);\r\n    const moves = history.map((step, move) => {\r\n      const desc = move ? 'Go to move #' + move : 'Go to game start';\r\n      return (\r\n        <li key={move}>\r\n          <button onClick={() => this.jumpTo(move)}>\r\n            {desc}({step.location.row},{step.location.col})\r\n          </button>\r\n        </li>\r\n      );\r\n    });\r\n    const togglemoves = this.state.toggle ? moves : moves.reverse();\r\n    let status;\r\n    if (winner) {\r\n      status = 'Winner: ' + winner;\r\n    } else if (draw) {\r\n      status = 'Draw';\r\n    } else {\r\n      status = 'Next player: ' + (this.state.xIsNext ? 'X' : 'O');\r\n    }\r\n\r\n    return (\r\n      <div className=\"game\">\r\n        <div className=\"game-board\">\r\n          <Board squares={current.squares} onClick={i => this.handleClick(i)} />\r\n        </div>\r\n        <div className=\"game-info\">\r\n          <div>{status}</div>\r\n          Toggle History:\r\n          <div>\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => this.setState({ toggle: !this.state.toggle })}\r\n            >\r\n              <Octicon icon={Sync} size=\"small\" ariaLabel=\"GitHub\" />{' '}\r\n              Ascending/Decending\r\n            </button>\r\n          </div>\r\n          History:\r\n          <ol>{togglemoves}</ol>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// ========================================\r\n\r\nReactDOM.render(<Game />, document.getElementById('root'));\r\n\r\nfunction calculateWinner(squares) {\r\n  const lines = [\r\n    [0, 1, 2],\r\n    [3, 4, 5],\r\n    [6, 7, 8],\r\n    [0, 3, 6],\r\n    [1, 4, 7],\r\n    [2, 5, 8],\r\n    [0, 4, 8],\r\n    [2, 4, 6]\r\n  ];\r\n  for (let i = 0; i < lines.length; i++) {\r\n    const [a, b, c] = lines[i];\r\n    if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {\r\n      return {\r\n        winner: squares[a],\r\n        highlight: lines[i]\r\n      };\r\n    }\r\n  }\r\n  return null;\r\n}\r\n\r\nfunction calculateDraw(squares) {\r\n  for (let i = 0; i < squares.length; i++) {\r\n    if (squares[i] == null) {\r\n      return false;\r\n    }\r\n  }\r\n  return true;\r\n}\r\n\r\nfunction findRowCol(index) {\r\n  const rowcol = [\r\n    [1, 1],\r\n    [1, 2],\r\n    [1, 3],\r\n    [2, 1],\r\n    [2, 2],\r\n    [2, 3],\r\n    [3, 1],\r\n    [3, 2],\r\n    [3, 3]\r\n  ];\r\n  if (index >= 0 && index <= 8) {\r\n    return rowcol[index];\r\n  } else {\r\n    return;\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}